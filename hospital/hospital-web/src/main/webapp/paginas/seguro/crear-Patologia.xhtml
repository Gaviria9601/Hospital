<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	template="/templates/template.xhtml">

	<ui:define name="cuerpo">

		<h2 class="title-style-1">
			Ingresar Patologia al Sistema<span class="title-under"></span>
		</h2>

		<h:form prependId="false">
			<p:wizard id="wiza" showNavBar="false" widgetVar="terminationWizard">
				<p:tab id="patologia" title="Patologia">
					<p:panel header="Detalles Patologia">
						<p:panelGrid columns="3" cellpadding="3" styleClass="ui-noborder">

							<p:outputLabel for="tfnombre" id="lblnombre" value="Nombre " />
							<p:inputText id="tfnombre" cols="50" style="width: 100%;"
								value="#{patologiaController.nombre}" />
							<p:message for="tfnombre" />


							<p:outputLabel for="tfdescripcion" id="lbldescripcion"
								value="Descripción " />

							<p:inputTextarea rows="5" cols="50" id="tfdescripcion"
								value="#{patologiaController.descripcion}" />
							<p:message for="tfdescripcion" />

						</p:panelGrid>
					</p:panel>

					<p:commandButton process="@this patologia"
						action="#{patologiaController.agregarPatologia}" value="Siguiente"
						icon="ui-icon-arrow-1-e" iconPos="left" widgetVar="stepForward" />
				</p:tab>

				<p:tab id="causa" title="Causas">
					<p:panel
						header="Detalles Causas Patologia #{patologiaController.nombre}">
						<p:panelGrid columns="3" cellpadding="3" styleClass="ui-noborder">
							<p:row></p:row>
							<p:row align="center">
								<a href="#" data-toggle="modal" data-target="#donateModal">¿Quieres Ingresar
									una nueva Causa?</a>
							</p:row>
							<p:row></p:row>
							<p:row>
								<p:outputLabel id="lbldescripcioncausa" value="Descripción " />
							</p:row>
							<p:row>
								<p:selectOneListbox id="causaOne"
									style="width: 700px !important"
									value="#{patologiaController.causa}" converter="causaConverter"
									var="c" filter="true" filterMatchMode="contains">
									<f:selectItems style="width: 700px !important"
										value="#{patologiaController.causas}" var="cau"
										itemLabel="#{cau.descripcion}" itemValue="#{cau}" />
									<p:column>
										<h:outputText value="#{c.descripcion}" />
									</p:column>
								</p:selectOneListbox>
							</p:row>
							<p:row>
								<p:commandButton id="btnagreCau" value="Agregar"
									process="@this causa" update="wiza"
									action="#{patologiaController.agregarCausa}" />
							</p:row>
						</p:panelGrid>

					</p:panel>

					<p:outputPanel id="pcausas">
						<p:dataTable value="#{patologiaController.causasAgre}" var="cau"
							id="causaTable">
							<f:facet name="header">
            				Causas Agregadas
        					</f:facet>
							<p:column headerText="Codigo">
								<h:outputText value="#{cau.codigo}" />
							</p:column>

							<p:column headerText="Descripción">
								<h:outputText value="#{cau.descripcion}" />
							</p:column>

							<p:column headerText="Acción">
								<p:commandLink value="Quitar" update="pcausas" process="@this"
									action="#{patologiaController.quitarCausa(cau)}">
								</p:commandLink>
							</p:column>

						</p:dataTable>
					</p:outputPanel>

					<p:commandButton value="Siguiente" icon="ui-icon-arrow-1-e"
						iconPos="left" onclick="PF('terminationWizard').next();"
						widgetVar="stepForward" />

				</p:tab>



				<p:tab id="sintoma" title="Sintomas">
					<p:panel
						header="Detalles Sintomas Patologia #{patologiaController.nombre}">
						<p:panelGrid columns="3" cellpadding="3" styleClass="ui-noborder">

							<p:outputLabel id="lbldescripcionSintoma" value="Descripción " />
							<p:selectOneListbox id="sintomaOne"
								style="width: 700px !important"
								value="#{patologiaController.sintoma}"
								converter="sintomaConverter" var="s" filter="true"
								filterMatchMode="contains">
								<f:selectItems style="width: 700px !important"
									value="#{patologiaController.sintomas}" var="sin"
									itemLabel="#{sin.descripcion}" itemValue="#{sin}" />
								<p:column>
									<h:outputText value="#{s.descripcion}" />
								</p:column>
							</p:selectOneListbox>


							<p:commandButton id="btnagreSint" value="Agregar"
								process="@this sintoma" update="wiza"
								action="#{patologiaController.agregarSintoma}" />
						</p:panelGrid>

					</p:panel>

					<p:outputPanel id="sintomas">
						<p:dataTable value="#{patologiaController.sintomasAgre}"
							var="sinto" id="sintomaTable">
							<f:facet name="header">
            				Sintomas Agregados
        					</f:facet>
							<p:column headerText="Codigo">
								<h:outputText value="#{sinto.codigo}" />
							</p:column>

							<p:column headerText="Descripción">
								<h:outputText value="#{sinto.descripcion}" />
							</p:column>

							<p:column headerText="Acción">
								<p:commandLink value="Quitar" update="sintomas" process="@this"
									action="#{patologiaController.quitarSintoma(sinto)}">
								</p:commandLink>
							</p:column>

						</p:dataTable>
					</p:outputPanel>
					<p:commandButton widgetVar="stepBackward" value="Anterior"
						icon="ui-icon-arrow-1-w" iconPos="right"
						onclick="PF('terminationWizard').back()" />
					<p:commandButton value="Siguiente" icon="ui-icon-arrow-1-e"
						iconPos="left" onclick="PF('terminationWizard').next();"
						widgetVar="stepForward" />
				</p:tab>

				<p:tab id="tratamiento" title="Tratamientos">
					<p:panel
						header="Detalles Tratamientos Patologia #{patologiaController.nombre}">
						<p:panelGrid columns="3" cellpadding="3" styleClass="ui-noborder">

							<p:outputLabel id="lbldescripcionTratamiento"
								value="Descripción " />
							<p:selectOneListbox id="tratamientoOne"
								style="width: 700px !important"
								value="#{patologiaController.tratamiento}"
								converter="tratamientoConverter" var="t" filter="true"
								filterMatchMode="contains">
								<f:selectItems style="width: 700px !important"
									value="#{patologiaController.tratamientos}" var="tra"
									itemLabel="#{tra.descripcion}" itemValue="#{tra}" />
								<p:column>
									<h:outputText value="#{t.descripcion}" />
								</p:column>
							</p:selectOneListbox>

							<p:commandButton id="btnagreTrata" value="Agregar"
								process="@this tratamiento" update="wiza"
								action="#{patologiaController.agregarTratamiento}" />

						</p:panelGrid>
					</p:panel>

					<p:outputPanel id="tratamientos">
						<p:dataTable value="#{patologiaController.tratamientosAgre}"
							var="trata" id="trataTable">
							<f:facet name="header">
            				Tratamientos Agregados
        					</f:facet>
							<p:column headerText="Codigo">
								<h:outputText value="#{trata.codigo}" />
							</p:column>

							<p:column headerText="Descripcion">
								<h:outputText value="#{trata.descripcion}" />
							</p:column>

							<p:column headerText="Acción">
								<p:commandLink value="Quitar" update="tratamientos"
									process="@this"
									action="#{patologiaController.quitarTratamiento(trata)}">
								</p:commandLink>
							</p:column>

						</p:dataTable>
					</p:outputPanel>
					<p:commandButton widgetVar="stepBackward" value="Anterior"
						icon="ui-icon-arrow-1-w" iconPos="right"
						onclick="PF('terminationWizard').back()" />
					<p:commandButton value="Terminar" iconPos="right"
						action="#{patologiaController.terminar}" />
				</p:tab>


			</p:wizard>
		</h:form>
	</ui:define>

</ui:composition>
